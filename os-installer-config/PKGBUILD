pkgname=os-installer-config
pkgver=0.1
pkgrel=1
pkgdesc='Default Arkane Linux configuration files for the os-installer'
url='https://github.com/arkanelinux/pkgbuild/tree/main/os-installer-config'
arch=('x86_64')
license=('Public domain')
makedepends=()
depends=('os-installer')
source=('arkane-fallback.conf' 'arkane.conf' 'base-package.list' 'config.yaml'
	'configure.sh' 'custom.conf' 'install.sh' 'loader.conf' 'package.list'
	'part.sfdisk' 'prepare.sh' 'systemd.services')
sha256sums=('5b8791038fee6fa06f6072c721012d429c99062e9b13e83f41589fff30ed7c60'
            '38d828ebff7a5cb4c1a423c1ff70db547c358621cef6bed3353f22e3fdeb4a64'
            'e9c394edd085d3ccc89890b04e13c81ec7d6517583e2f7a8b897fd709c2d9e50'
            '7be755ba834b356d2331c7859c64290b76af94c06378c893a42a692d35815a4a'
            '22b2a2df647444782ac259d28c3416368480955dd58c8b33df9660aeacd53b80'
            '82f1bb7e4f1c17a0d7d1cde87e9d388fcd89ef993032f9ee568d654ac90189ee'
            '6d5682d860948ad87e7e454c0c1ad98cb088fc065319fd6e817c5be1bdb1a9d5'
            'a59a938849549232ab283140b56e1155558d0f87463f6cdc98e924dac1930679'
            '5d68a9b18c528282c1f98c4218fa1ddb644284f5170d363393d8a1776d5829ee'
            '551c2e68e3c0e884ec4a9ba4780544b3c0dfb07b62229fb410165b8e46964f93'
            '9aaac55d1936fbb5f403b48d490da165ca6bc756a47cdfec787a426ca5b3cb61'
            '50ad9ae0e98633e3c9fdbd777cec5d43557f264b65e2af72bf574c355bf03823')

package() {
	cd "$pkgdir"

	install -d etc/os-installer/scripts
	install -d etc/os-installer/icons
	
	install -d etc/os-installer/bits/gdm
	install -d etc/os-installer/bits/systemd-boot
	
	# /etc/os-installer/
	install -m644 "$srcdir"/config.yaml etc/os-installer/

	# /etc/os-installer/scripts/bits/gdm
	install -m644 "$srcdir"/custom.conf etc/os-installer/bits/gdm/ 

  	# /etc/os-installer/scripts/
	for f in configure.sh install.sh prepare.sh; do
    		install -m644 "$srcdir"/$f etc/os-installer/scripts/
  	done

	# /etc/os-installer/bits/
	for f in base-package.list package.list part.sfdisk systemd.services; do
    		install -m644 "$srcdir"/$f etc/os-installer/bits/
  	done
  	
  	# /etc/os-installer/bits/systemd-boot/
	for f in arkane.conf arkane-fallback.conf loader.conf; do
    		install -m644 "$srcdir"/$f etc/os-installer/bits/systemd-boot/
  	done
}

