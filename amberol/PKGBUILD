pkgname=amberol
pkgver=0.9.2
pkgrel=1
pkgdesc='A simple image viewer application written with GTK4 and Rust'
url='https://gitlab.gnome.org/World/amberol/'
source=("https://gitlab.gnome.org/World/amberol/-/archive/${pkgver}/amberol-${pkgver}.zip")
sha256sums=('9e841c0a6679578aca06b2135aa85100dc5a9e9aecf61bc2b7b0887edd3b3f3c')
arch=('x86_64')
license=('GPL3')
makedepends=('meson' 'rust' 'cargo' 'pkgconf' 'reuse')
depends=('gtk4' 'desktop-file-utils' 'libadwaita' 'glib2' 'gettext' 'gtk-update-icon-cache' 'gstreamer')

prepare() {
	cd "$srcdir/$pkgname-$pkgver"

	cargo update
}

build() {
	cd "$srcdir/$pkgname-$pkgver"

	arch-meson . build --buildtype release
}

package() {
	cd "$srcdir/$pkgname-$pkgver"

	meson install -C build --destdir $pkgdir
}
